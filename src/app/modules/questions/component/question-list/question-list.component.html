<ul class="qa-card-listing">
  <li *ngFor="let question of questions; let i = index">
    <div class="qa-card">
      <div class="qa-head">
        <div class="qa-left">
          <span class="qa-sequence">{{ i + 1 }}.</span>
          <p class="question-text" [innerHTML]="question.questionText"></p>
        </div>
        <div class="qa-right">
          <mat-chip class="ChipDefault">{{
            getTopicName(question.topicId)
          }}</mat-chip>
          <mat-chip class="ChipSuccess" *ngIf="question.status">
            Active
          </mat-chip>
          <mat-chip class="ChipInactive" *ngIf="!question.status">
            Inactive
          </mat-chip>
          <mat-chip class="ChipInfo question-mark">
            {{ question.difficulty }}
          </mat-chip>
          <button
            mat-mini-fab
            class="btn-sm"
            [matMenuTriggerFor]="questionActionMenu"
          >
            <mat-icon>
              <img src="./assets/images/more-black.svg" alt="Action" />
            </mat-icon>
          </button>
          <mat-menu #questionActionMenu="matMenu" xPosition="before">
            <button mat-menu-item>
              <mat-icon>
                <img src="./assets/images/duplicate-grey.svg" alt="Duplicate" />
              </mat-icon>
              Duplicate
            </button>
            <button mat-menu-item routerLink="/admin/questions/add-question">
              <mat-icon>
                <img src="./assets/images/edit.svg" alt="Edit" />
              </mat-icon>
              Edit
            </button>
            <button
              mat-menu-item
              *ngIf="!question.status"
              (click)="updateStatus({ id: question.id, status: true })"
            >
              <mat-icon>
                <img src="./assets/images/active.svg" alt="Active" />
              </mat-icon>
              Active
            </button>
            <button
              mat-menu-item
              *ngIf="question.status"
              (click)="updateStatus({ id: question.id, status: false })"
            >
              <mat-icon>
                <img src="./assets/images/inactive.svg" alt="Inactive" />
              </mat-icon>
              Inactive
            </button>
            <button
              mat-menu-item
              (click)="handleDeleteProfileDialog(question.id)"
            >
              <mat-icon>
                <img src="./assets/images/delete.svg" alt="Delete" />
              </mat-icon>
              Delete
            </button>
          </mat-menu>
        </div>
      </div>
      <div class="qa-body">
        <mat-chip-listbox
          class="mcq-chips-wrapper"
          *ngIf="question.optionType == optionType.Text"
        >
          <mat-chip-option
            color="primary"
            [selectable]="false"
            disableRipple
            [selected]="question.options[0].isAnswer"
            ><span class="mcq-option">A</span
            >{{ question.options[0].optionValue }}</mat-chip-option
          >
          <mat-chip-option
            color="primary"
            [selectable]="false"
            disableRipple
            [selected]="question.options[1].isAnswer"
            ><span class="mcq-option">B</span
            >{{ question.options[1].optionValue }}</mat-chip-option
          >
          <mat-chip-option
            color="primary"
            [selectable]="false"
            disableRipple
            [selected]="question.options[2].isAnswer"
            ><span class="mcq-option">C</span
            >{{ question.options[2].optionValue }}</mat-chip-option
          >
          <mat-chip-option
            color="primary"
            [selectable]="false"
            disableRipple
            [selected]="question.options[3].isAnswer"
            ><span class="mcq-option">D</span
            >{{ question.options[3].optionValue }}</mat-chip-option
          >
        </mat-chip-listbox>
        <mat-chip-listbox
          class="mcq-chips-wrapper"
          *ngIf="question.optionType == optionType.Image"
        >
          <mat-chip-option
            color="primary"
            [selectable]="false"
            disableRipple
            [selected]="question.options[0].isAnswer"
            ><span class="mcq-option">A</span
            ><img
              class="option-img"
              [src]="question.options[0].optionValue"
              alt="Option 1"
          /></mat-chip-option>
          <mat-chip-option
            color="primary"
            [selectable]="false"
            disableRipple
            [selected]="question.options[1].isAnswer"
            ><span class="mcq-option">B</span
            ><img
              class="option-img"
              [src]="question.options[1].optionValue"
              alt="Option 2"
          /></mat-chip-option>
          <mat-chip-option
            color="primary"
            [selectable]="false"
            disableRipple
            [selected]="question.options[2].isAnswer"
            ><span class="mcq-option">C</span
            ><img
              class="option-img"
              [src]="question.options[2].optionValue"
              alt="Option 3"
          /></mat-chip-option>
          <mat-chip-option
            color="primary"
            [selectable]="false"
            disableRipple
            [selected]="question.options[3].isAnswer"
            ><span class="mcq-option">D</span
            ><img
              class="option-img"
              [src]="question.options[3].optionValue"
              alt="Option 4"
          /></mat-chip-option>
        </mat-chip-listbox>
      </div>
    </div>
  </li>
</ul>
